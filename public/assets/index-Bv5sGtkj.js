var e=Object.defineProperty;import{p as t}from"./phaser-C2_wa_Fb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class s extends t.Scene{constructor(){var t;super("Game"),((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(this,"symbol"!=typeof(t="score")?t+"":t,0)}preload(){this.load.setPath("assets"),this.load.spritesheet("bird","sprites/spritesheet.png",{frameHeight:24,frameWidth:34}),this.load.image("base","sprites/base.png"),this.load.image("background","sprites/background-day.png"),this.load.image("pipe","sprites/pipe-green.png"),this.load.image("gameover","sprites/gameover.png"),this.load.audio("point","audio/point.wav"),this.load.audio("hit","audio/hit.wav")}create(){this.scoreText=this.add.text(144,50,this.score).setDepth(20),this.scoreText.setStyle({fontSize:30,fontStyle:"bold",color:"#000"}),this.add.image(0,0,"background").setScale(2),this.bird=this.physics.add.sprite(144,256,"bird").setOrigin(.5,.5).setCollideWorldBounds(!0),this.anims.exists("bird-fly")||this.anims.create({key:"bird-fly",frames:this.anims.generateFrameNumbers("bird",{start:0,end:2}),frameRate:10,repeat:-1}),this.bird.anims.play("bird-fly"),this.pipes=this.physics.add.group(),function(e){const t=[300,325,350,375,400,425,450];let s=t[Math.floor(6*Math.random())];e.pipeEvent=e.time.addEvent({delay:3e3,callback:()=>{s=t[Math.floor(3*Math.random())],e.pipes.create(300,s,"pipe").setOrigin(0,0).setGravityY(-700).setVelocityX(-60),e.pipes.create(300,s-100,"pipe").setOrigin(0,1).setGravityY(-700).setVelocityX(-60).setFlipY(!0)},loop:!0})}(this),this.base=this.physics.add.staticImage(0,450,"base").setOrigin(0,0).setOffset(0,55).setDepth(20),this.physics.add.collider(this.base,this.bird,i,null,this),this.physics.add.collider(this.pipes,this.bird,i,null,this),this.keys=this.input.keyboard.createCursorKeys()}update(){this.bird.isDead||((this.keys.space.isDown||this.input.activePointer.leftButtonDown())&&this.bird.setVelocityY(-200),this.pipes.children.iterate((e=>{e.x===this.bird.x&&(this.score+=.5,this.scoreText.setText(this.score),this.sound.add("point",{volume:.3}).play())})))}}function i(){this.score=0,this.bird.isDead=!0,this.bird.setVelocityY(0),this.bird.setVelocityX(0),this.bird.setGravityY(-700),this.sound.add("hit",{volume:.3}).play(),this.pipes.clear(!0,!0),this.pipeEvent&&this.pipeEvent.remove(),this.add.image(144,256,"gameover"),this.time.delayedCall(2e3,(()=>{this.scene.restart()}))}class a extends t.Scene{constructor(){super("Start")}preload(){this.load.setPath("assets"),this.load.image("background","sprites/background-day.png"),this.load.image("message","sprites/message.png"),this.load.audio("swosh","audio/swoosh.wav")}create(){this.swoshSound=this.sound.add("swosh"),this.add.image(0,0,"background").setScale(2),this.add.image(144,256,"message").setSize(1.2)}update(){this.input.activePointer.leftButtonDown()&&(this.swoshSound.play(),this.time.delayedCall(300,(()=>{this.scene.start("Game")})))}}const r={type:t.AUTO,width:288,height:512,parent:"game-container",backgroundColor:"#028af8",scale:{mode:t.Scale.FIT,autoCenter:t.Scale.CENTER_BOTH},scene:[a,s],physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}}};new t.Game(r);
